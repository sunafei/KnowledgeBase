### redis 内存淘汰机制 热点数据

### redis 持久化机制
##### 快照（snapshotting）持久化（RDB）
Redis可以通过创建快照来获得存储在内存⾥⾯的数据在某个时间点上的副本。Redis创建快照之后，可以对快照进⾏备份，可以将快照复制到其他服务器从⽽创建具有相同数据的服务器副本（Redis主从结构，主要⽤来提⾼Redis性能），还可以将快照留在原地以便重启服务器的时候使⽤。
##### AOF（append-only file）持久化
与快照持久化相⽐，AOF持久化的实时性更好，因此已成为主流的持久化⽅案。默认情况下Redis没有开启AOF（append only file）⽅式的持久化，可以通过appendonly参数开启：appendonly yes   
配置appendfsync everysec #每秒钟同步⼀次，显示地将多个写命令同步到硬盘

## 缓存雪崩
##### 什么是缓存雪崩？  
简介：缓存同⼀时间⼤⾯积的失效，所以，后⾯的请求都会落到数据库上，造成数据库短时间内承受⼤量请求⽽崩掉。
##### 解决办法
* 事前：尽量保证整个 redis 集群的⾼可⽤性，发现机器宕机尽快补上。选择合适的内存淘汰策
略。
* 事中：本地ehcache缓存 + hystrix限流&降级，避免MySQL崩掉
* 事后：利⽤ redis 持久化机制保存的数据尽快恢复缓存

## 缓存穿透
##### 什么是缓存穿透？
缓存穿透说简单点就是⼤量请求的key根本不存在于缓存中，导致请求直接到了数据库上，根本没有
经过缓存这⼀层
##### 解决办法
* 缓存无效key 如果缓存查不到设置空值和过期时间
* 布隆过滤器 布隆过滤器是⼀个⾮常神奇的数据结构，通过它我们可以⾮常⽅便地判断⼀个给定数
据是否存在与海量数据中
